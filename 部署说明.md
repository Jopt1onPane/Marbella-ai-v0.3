# 部署说明

## 快速部署

### 1. 服务器要求
- Ubuntu 20.04+ 或 CentOS 7+
- Python 3.8+
- Node.js 16+
- Nginx

### 2. 部署步骤

#### 2.1 上传代码
```bash
scp -r staff-management-system-final-working.tar.gz user@your-server:/var/www/
cd /var/www/
tar -xzf staff-management-system-final-working.tar.gz
cd staff-management-system-final-working
```

#### 2.2 配置后端
```bash
cd staff-management-system
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
pip install gunicorn
python ../deploy_config.py
```

#### 2.3 配置前端
```bash
cd ../staff-management-frontend
npm install
npm run build
```

#### 2.4 配置Nginx
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        root /var/www/staff-management-system-final-working/staff-management-frontend/dist;
        try_files $uri $uri/ /index.html;
    }
    
    location /api {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

#### 2.5 启动服务
```bash
cd staff-management-system
source venv/bin/activate
gunicorn -c gunicorn.conf.py src.main:app
sudo systemctl restart nginx
```

### 3. 访问系统
- 网址: https://your-domain.com
- 管理员账户: admin / admin123 